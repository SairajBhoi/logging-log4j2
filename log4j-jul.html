<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Log4j JDK Logging Adapter :: Apache Log4j</title>
    <link rel="canonical" href="https://logging.apache.org/log4j/2.x/log4j-jul.html">
    <meta name="generator" content="Antora 3.2.0-alpha.4">
<link rel="stylesheet" href="./_/css/site.css">
<link rel="icon" href="./_/../_images/favicon.ico" type="image/x-icon">
<!-- `@asciidoctor/tabs` extension styles -->
<link rel="stylesheet" href="./_/css/vendor/tabs.css">
<style>
  /* `page-toclevels` greater than 4 are not supported by Antora UI, patching it: */
  .toc .toc-menu li[data-level="4"] a {
    padding-left: 2.75rem
  }
  /* Replace the default highlight.js color for strings from red to green: */
  .hljs-string {
    color: #0f8532;
  }
</style>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <img src="./_/../_images/logo-small-white.png" alt="Apache Log4j"/>
      </div>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://logging.apache.org">a subproject of&nbsp;<strong>Apache Logging Services</strong></a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">Home</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="download.html">Download</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="runtime-dependencies.html">Runtime Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="release-notes.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="support.html">Support</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="thanks.html">Thanks</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learn</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="manual/index.html">Manual</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/migration.html">Migrating from Log4j 1.x to 2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="manual/api.html">Log4j API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/logbuilder.html">Log Builder</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/flowtracing.html">Flow Tracing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/markers.html">Markers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/eventlogging.html">Event Logging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/messages.html">Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/thread-context.html">Thread Context</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/scoped-context.html">Scoped Context</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/resource-logger.html">Resource Logging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/usage.html">Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/cloud.html">Using Log4j in Cloud Enabled Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/lookups.html">Lookups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/appenders.html">Appenders</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="manual/layouts.html">Layouts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/json-template-layout.html">JSON Template Layout</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/filters.html">Filters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/async.html">Lock-free Asynchronous Loggers for Low-Latency Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/garbagefree.html">Garbage-free Steady State Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/extending.html">Extending Log4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/plugins.html">Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/customconfig.html">Programmatic Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/customloglevels.html">Custom Log Levels</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/jmx.html">JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/logsep.html">Logging Separation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/performance.html">Performance</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="plugin-reference.html">Plugin reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="javadoc.html">Java API reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="articles.html">Articles</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="faq.html">F.A.Q.</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-api.html">Log4j API</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-1.2-api.html">Log4j 1.2 Bridge</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-slf4j-impl.html">Log4j SLF4J Binding</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="log4j-jul.html">Log4j JDK Logging Adapter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-jpl.html">Log4j JDK Platform Logging Adapter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-to-slf4j.html">Log4j to SLF4J Adapter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-flume-ng.html">Flume Appender</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-mongodb3.html">MongoDB 3 appender</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-mongodb4.html">MongoDB 4 appender</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-iostreams.html">Log4j IOStreams</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-docker.html">Log4j Docker Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-spring-cloud-config-client.html">Log4j Spring Cloud Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Related projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/jakarta">Log4j Jakarta EE</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/jmx-gui">Log4j JMX GUI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/kotlin">Log4j Kotlin</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/scala">Log4j Scala</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/tools">Log4j Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/transform">Log4j Transformation Tools</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li>Components</li>
    <li><a href="log4j-jul.html">Log4j JDK Logging Adapter</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/apache/logging-log4j2/edit/2.x/src/site/antora/modules/ROOT/pages/log4j-jul.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="4">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Log4j JDK Logging Adapter</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The JDK Logging Adapter is a custom implementation of <a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/LogManager.html"><code>java.util.logging.LogManager</code></a> that uses <a href="javadoc/log4j-core/index.html">Log4j</a>.
This adapter can be used with either the Log4j API or Log4j Core.
When used with the API, there are a couple features of JUL that aren&#8217;t supported.
However, this does allow any other Log4j Provider besides the Core provider to be used with JUL.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements"><a class="anchor" href="#_requirements"></a>Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The JDK Logging Adapter is dependent on the Log4j API and optionally Log4j Core.
For more information, see <a href="runtime-dependencies.html" class="xref page">Runtime Dependencies</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="anchor" href="#_usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the JDK Logging Adapter, you must set the system property <code>java.util.logging.manager</code> to <code>org.apache.logging.log4j.jul.LogManager</code>.</p>
</div>
<div class="paragraph">
<p>This must be done either through the command line (i.e., using the <code>-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager</code> argument) or by using <code>System.setProperty()</code> before any calls are made to <code>LogManager</code> or <code>Logger</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compatibility"><a class="anchor" href="#_compatibility"></a>Compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The use of a <a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Filter.html"><code>java.util.logging.Filter</code></a> is supported on a per-http://docs.oracle.com/javase/6/docs/api/java/util/logging/Logger.html[<code>Logger</code>] basis.
However, it is recommended to use the standard <a href="manual/filters.html" class="xref page">Filters</a> feature in Log4j instead.</p>
</div>
<div class="paragraph">
<p>The use of <a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Handler.html"><code>java.util.logging.Handler</code></a> classes is <em>NOT</em> supported.
Custom Handlers should instead use an appropriate <a href="manual/appenders.html" class="xref page">Appender</a> or code their own <a href="javadoc/log4j-core/org/apache/logging/log4j/core/Appender.adoc"><code>Appender</code></a> plugin.</p>
</div>
<div class="paragraph">
<p>Java logging levels are translated into Log4j logging levels dynamically.
The following table lists the conversions between a Java logging level and its equivalent Log4j level.
Custom levels should be implemented as an implementation of <code>LevelConverter</code>, and the Log4j property <code>log4j.jul.levelConverter</code> must be set to your custom class name.
Using the default <code>LevelConverter</code> implementation, custom logging levels are mapped to whatever the current level of the <code>Logger</code> being logged to is using.</p>
</div>
<div class="sect2">
<h3 id="_default_level_conversions"><a class="anchor" href="#_default_level_conversions"></a>Default Level Conversions</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Java Level</th>
<th class="tableblock halign-left valign-top">Log4j Level</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#OFF"><code>OFF</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OFF</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#SEVERE"><code>SEVERE</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ERROR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#WARNING"><code>WARNING</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WARN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#INFO"><code>INFO</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INFO</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#CONFIG"><code>CONFIG</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONFIG</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#FINE"><code>FINE</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#FINER"><code>FINER</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRACE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#FINEST"><code>FINEST</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FINEST</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/Level.html#ALL"><code>ALL</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALL</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_log4j_jdk_logging_bridge_handler"><a class="anchor" href="#_log4j_jdk_logging_bridge_handler"></a>Log4j JDK Logging Bridge Handler</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The LogManager is not always useable because you have to set a JVM wide effective system property - e.g.
in web servers this is not possible if you are not the administrator.</p>
</div>
<div class="paragraph">
<p>The <code>Log4jBridgeHandler</code> is an alternative that can be declaratively used via <code>logging.properties</code>.</p>
</div>
<div class="paragraph">
<p>It is less performant than the LogManager but still okay to use: the LogManager replaces the JDK implementation, so your logging code (using JDK syntax) effectively directly uses log4j.
When using the BridgeHandler the original JDK implementation along with its configuration (e.g.
log levels) is still fully working but the log events are "written" via this handler to log4j as if you would have called log4j.Logger.debug() etc.;
it is like a FileHandler but instead of writing to a file, it "writes" to log4j Loggers - thus there is some overhead compared to using LogManager.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage_2"><a class="anchor" href="#_usage_2"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The JUL configuration file <code>logging.properties</code> needs the line</p>
</div>
<div class="paragraph">
<p><code>handlers = org.apache.logging.log4j.jul.Log4jBridgeHandler</code></p>
</div>
<div class="paragraph">
<p>and JUL logs go to log4j2.
Additionally, you typically want to use to following:</p>
</div>
<div class="paragraph">
<p><code>org.apache.logging.log4j.jul.Log4jBridgeHandler.propagateLevels = true</code></p>
</div>
<div class="paragraph">
<p>In a webapp on Tomcat (and maybe other servers, too), you may simply create a <code>WEB-INF/classes/logging.properties</code> file with above content.
The bridge and the log levels defined in this file are only valid for your webapp and do <em>not</em> have any impact on the other webapps on the same Tomcat instance.</p>
</div>
<div class="paragraph">
<p>Alternatively you may call <code>Log4jBridgeHandler.install()</code> inside your webapp&#8217;s initialization code, e.g.
inside <code>ServletContextListener</code> or a <code>ServletFilter</code> static-class-init.
or <code>contextInitialized()</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Log levels of JDK should match the ones of log4j.
You may do this manually or use the automatic level propagation via <code>Log4jBridgeHandler.propagateLevels = true</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>
    Copyright © 1999-2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>.
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache Software License, Version 2.0</a>.
    Please read our <a href="https://privacy.apache.org/policies/privacy-policy-public.html">privacy policy</a>.
  </p>
  <p>
    Apache, Log4j, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.
    Oracle and Java are registered trademarks of Oracle and/or its affiliates.
    Other names may be trademarks of their respective owners.
  </p>
</footer>
<script id="site-script" src="./_/js/site.js" data-ui-root-path="./_"></script>
<script async src="./_/js/vendor/highlight.js"></script>
<!-- `@asciidoctor/tabs` extension scripts -->
<script async src="./_/js/vendor/tabs.js"></script>
  </body>
</html>
